{% extends 'base.html' %}
{% load widget_tweaks %}

{% block content %}
<div class="max-w-md p-8 mx-auto dark:bg-slate-800">
    <h2 class="mb-6 text-2xl font-bold text-center text-slate-800 dark:text-slate-400">LOGIN</h2>
    <form method="post" class="space-y-4">
        {% csrf_token %}
            <div>
                <div class="flex">
                    <span class="inline-flex items-center px-3 text-sm border text-slate-900 bg-slate-200 rounded-e-0 border-slate-300 border-e-0 rounded-s-md dark:bg-slate-600 dark:text-slate-400 dark:border-slate-600">
                        <i class="w-4 h-4 fa-solid fa-user text-slate-500 dark:text-slate-400"></i>
                    </span>
                    {{ form.username|add_class:"rounded-none rounded-e-lg bg-slate-50 border text-slate-900 focus:ring-purple-500 focus:border-purple-500 block flex-1 min-w-0 w-full text-sm border-slate-300 p-2.5  dark:bg-slate-700 dark:border-slate-600 dark:placeholder-slate-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500"|attr:"placeholder:Username or Email" }}
                </div>
                <span class="block mt-1 text-sm text-center text-red-500">{{ form.username.errors }}</span>
            </div>
            <div>
                <div class="flex">
                    <span class="inline-flex items-center px-3 text-sm border text-slate-900 bg-slate-200 rounded-e-0 border-slate-300 border-e-0 rounded-s-md dark:bg-slate-600 dark:text-slate-400 dark:border-slate-600">
                      <i class="w-4 h-4 fa-solid fa-lock text-slate-500 dark:text-slate-400"></i>
                    </span>
                    {{ form.password|add_class:"rounded-none rounded-e-lg bg-slate-50 border text-slate-900 focus:ring-purple-500 focus:border-purple-500 block flex-1 min-w-0 w-full text-sm border-slate-300 p-2.5  dark:bg-slate-700 dark:border-slate-600 dark:placeholder-slate-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500" }}
                </div>
                <span class="block mt-1 text-sm text-center text-red-500">{{ form.password.errors }}</span>
            </div>
        {% if form.non_field_errors %}
            {% for error in form.non_field_errors %}
                <div class="text-sm text-center text-red-500">{{ error }}</div>
            {% endfor %}
        {% endif %}
        {% include 'partials/buttons/primary_button.html' with text="Login" icon="fa-solid fa-right-to-bracket" type="submit" %}
    </form>
    <div class="flex items-center justify-center mt-4">
        <a href="{% url 'verify_face_login' %}" 
           class="px-5 py-2 text-sm font-medium text-center text-white rounded-full shadow-lg bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 me-2">
            <i class="mr-2 fa-solid fa-face-smile"></i>
            Login with FaceID
        </a>
    </div>
    <p class="mt-4 text-center text-slate-800 dark:text-slate-400">
        Don't have an account? <a href="{% url 'signup' %}" class="text-purple-700 dark:text-purple-500 hover:underline">Sign Up</a>
    </p>
    <p class="mt-4 text-center">
        <a href="{% url 'password_reset' %}" class="text-red-500 hover:underline">Forgot Password?</a>
    </p>
</div>  
{% endblock %}
